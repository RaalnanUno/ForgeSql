{"version":3,"sources":["../../preload/index.ts"],"sourcesContent":["import { contextBridge, ipcRenderer } from \"electron\";\r\nimport type {\r\n  DbListDatabasesResponse,\r\n  DbListTablesResponse,\r\n  DbListViewsResponse,\r\n  DbOpenResponse,\r\n  DbOkResponse,\r\n  DbQueryResponse,\r\n  DbDescribeTableResponse,\r\n  DbPrimaryKeyResponse,\r\n  DbUpdateCellRequest,\r\n  DbInsertRowRequest,\r\n  SqlServerConnectionProfile,\r\n} from \"../shared/types\";\r\n\r\n\r\ncontextBridge.exposeInMainWorld(\"dbforge\", {\r\n  open: (profile: SqlServerConnectionProfile) =>\r\n    ipcRenderer.invoke(\"db:open\", { profile }) as Promise<DbOpenResponse>,\r\n\r\n  // ✅ FIX: close returns DbOkResponse (not DbOpenResponse)\r\n  close: () => ipcRenderer.invoke(\"db:close\") as Promise<DbOkResponse>,\r\n\r\n  listDatabases: () =>\r\n    ipcRenderer.invoke(\"db:listDatabases\") as Promise<DbListDatabasesResponse>,\r\n\r\n  listTables: () =>\r\n    ipcRenderer.invoke(\"db:listTables\") as Promise<DbListTablesResponse>,\r\n\r\n  listViews: () =>\r\n    ipcRenderer.invoke(\"db:listViews\") as Promise<DbListViewsResponse>,\r\n\r\n  query: (sql: string) =>\r\n    ipcRenderer.invoke(\"db:query\", { sql }) as Promise<DbQueryResponse>,\r\n\r\n  // ✅ Strong typing (no more implicit any)\r\n  describeTable: (fullName: string) =>\r\n    ipcRenderer.invoke(\"db:describeTable\", { fullName }) as Promise<DbDescribeTableResponse>,\r\n\r\n  getPrimaryKey: (fullName: string) =>\r\n    ipcRenderer.invoke(\"db:getPrimaryKey\", { fullName }) as Promise<DbPrimaryKeyResponse>,\r\n\r\n  updateCell: (req: DbUpdateCellRequest) =>\r\n    ipcRenderer.invoke(\"db:updateCell\", { req }) as Promise<DbOkResponse & { rowCount?: number }>,\r\n\r\n  insertRow: (req: DbInsertRowRequest) =>\r\n    ipcRenderer.invoke(\"db:insertRow\", { req }) as Promise<DbOkResponse & { rowCount?: number }>,\r\n});\r\n\r\n"],"mappings":";AAAA,sBAA2C;AAgB3C,8BAAc,kBAAkB,WAAW;AAAA,EACzC,MAAM,CAAC,YACL,4BAAY,OAAO,WAAW,EAAE,QAAQ,CAAC;AAAA;AAAA,EAG3C,OAAO,MAAM,4BAAY,OAAO,UAAU;AAAA,EAE1C,eAAe,MACb,4BAAY,OAAO,kBAAkB;AAAA,EAEvC,YAAY,MACV,4BAAY,OAAO,eAAe;AAAA,EAEpC,WAAW,MACT,4BAAY,OAAO,cAAc;AAAA,EAEnC,OAAO,CAAC,QACN,4BAAY,OAAO,YAAY,EAAE,IAAI,CAAC;AAAA;AAAA,EAGxC,eAAe,CAAC,aACd,4BAAY,OAAO,oBAAoB,EAAE,SAAS,CAAC;AAAA,EAErD,eAAe,CAAC,aACd,4BAAY,OAAO,oBAAoB,EAAE,SAAS,CAAC;AAAA,EAErD,YAAY,CAAC,QACX,4BAAY,OAAO,iBAAiB,EAAE,IAAI,CAAC;AAAA,EAE7C,WAAW,CAAC,QACV,4BAAY,OAAO,gBAAgB,EAAE,IAAI,CAAC;AAC9C,CAAC;","names":[]}